{"ast":null,"code":"import { Produit } from \"../../models/produit.model\";\nimport { Prelevement } from \"../../models/prelevement.model\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/prelevement.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nconst _c0 = [\"f\"];\nexport class PrelevementFormComponent {\n  constructor(fb, prelevementService, router, activatedRoute) {\n    this.fb = fb;\n    this.prelevementService = prelevementService;\n    this.router = router;\n    this.activatedRoute = activatedRoute;\n    this.produit = new Produit();\n    this.prelevement = new Prelevement();\n  }\n  ngOnInit() {\n    this.prelevementFormGroup = this.fb.group({\n      nom: this.fb.control(null),\n      categorie: this.fb.control(null),\n      dateProcesVerbal: this.fb.control(null),\n      numeroProcesVerbal: this.fb.control(null),\n      typePrelevement: this.fb.control(null),\n      cadreControle: this.fb.control(null),\n      niveauPrel: this.fb.control(null),\n      laboDestination: this.fb.control(null),\n      dateEnvoie: this.fb.control(null)\n    });\n    this.idPrelevement = this.activatedRoute.snapshot.paramMap.get('id');\n    if (this.idPrelevement) {\n      this.prelevementService.getPrelevementById(this.idPrelevement).subscribe({\n        next: data => {\n          console.log(\"Hello\");\n          console.log(data);\n          this.prelevementFormGroup.value.nom = data.produitDTO.nom;\n          this.prelevementFormGroup.value.categorie = data.produitDTO.categorie;\n          this.prelevementFormGroup.value.dateProcesVerbal = data.dateProcesVerbal;\n          this.prelevementFormGroup.value.numeroProcesVerbal = data.numeroProcesVerbal;\n          this.prelevementFormGroup.value.typePrelevement = data.typePrelevement;\n          this.prelevementFormGroup.value.cadreControle = data.cadreControle;\n          this.prelevementFormGroup.value.niveauPrel = data.niveauPrel;\n          this.prelevementFormGroup.value.laboDestination = data.laboDestination;\n          this.prelevementFormGroup.value.dateEnvoie = data.dateEnvoie;\n          console.log(this.prelevementFormGroup.value);\n        },\n        error: err => {\n          console.log(err);\n        }\n      });\n    }\n  }\n  onSubmit() {\n    this.produit.nom = this.prelevementFormGroup.value.nom;\n    this.produit.categorie = this.prelevementFormGroup.value.categorie;\n    this.prelevement.produitDTO = this.produit;\n    this.prelevement.dateProcesVerbal = this.prelevementFormGroup.value.dateProcesVerbal;\n    this.prelevement.numeroProcesVerbal = this.prelevementFormGroup.value.numeroProcesVerbal;\n    this.prelevement.typePrelevement = this.prelevementFormGroup.value.typePrelevement;\n    this.prelevement.cadreControle = this.prelevementFormGroup.value.cadreControle;\n    this.prelevement.niveauPrel = this.prelevementFormGroup.value.niveauPrel;\n    this.prelevement.laboDestination = this.prelevementFormGroup.value.laboDestination;\n    this.prelevement.dateEnvoie = this.prelevementFormGroup.value.dateEnvoie;\n    this.prelevement.etatAvancement = 'EN_INSTANCE';\n    let jwt = localStorage.getItem('token');\n    let jwtData = '';\n    if (jwt) jwtData = jwt.split('.')[1];\n    let decodedJwtJsonData = window.atob(jwtData);\n    let decodedJwtData = JSON.parse(decodedJwtJsonData);\n    let idPersonne = decodedJwtData.idPersonne;\n    this.prelevement.idPersonne = idPersonne;\n    console.log(this.prelevement);\n    this.prelevementService.savePrelevement(this.prelevement).subscribe({\n      next: data => {\n        console.log(\"Gooood\");\n        this.prelevementFormGroup.reset();\n        this.router.navigateByUrl(\"feedback\");\n      },\n      error: err => {\n        console.log(err);\n      }\n    });\n  }\n}\nPrelevementFormComponent.ɵfac = function PrelevementFormComponent_Factory(t) {\n  return new (t || PrelevementFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.PrelevementService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n};\nPrelevementFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PrelevementFormComponent,\n  selectors: [[\"app-prelevement-form\"]],\n  viewQuery: function PrelevementFormComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.Signupfrom = _t.first);\n    }\n  },\n  decls: 79,\n  vars: 17,\n  consts: [[1, \"header\"], [3, \"formGroup\", \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"my_container\"], [1, \"Nom\"], [\"for\", \"nom\"], [\"formControlName\", \"nom\", \"placeholder\", \"tomates\", \"type\", \"text\", \"id\", \"nom\", \"name\", \"nom\", \"required\", \"\", 3, \"value\"], [\"for\", \"categorie\"], [\"formControlName\", \"categorie\", \"placeholder\", \"ex:l\\u00E9gume\", \"type\", \"text\", \"name\", \"categorie\", \"id\", \"categorie\", \"required\", \"\", 3, \"value\"], [\"for\", \"numero\"], [\"formControlName\", \"numeroProcesVerbal\", \"placeholder\", \"ex:2304\", \"type\", \"text\", \"name\", \"numeroProcesVerbal\", \"id\", \"numero\", \"required\", \"\", 3, \"value\"], [\"for\", \"date\"], [\"formControlName\", \"dateProcesVerbal\", \"type\", \"date\", \"name\", \"dateProcesVerbal\", \"id\", \"date\", \"required\", \"\", 3, \"value\"], [\"for\", \"cars\"], [\"id\", \"cars\", \"formControlName\", \"typePrelevement\", 3, \"value\"], [\"for\", \"niveauPrel\"], [\"id\", \"niveauPrel\", \"formControlName\", \"niveauPrel\", 3, \"value\"], [\"for\", \"cadreControle\"], [\"id\", \"cadreControle\", \"formControlName\", \"cadreControle\", 3, \"value\"], [\"for\", \"labo\"], [\"id\", \"labo\", \"formControlName\", \"laboDestination\", 3, \"value\"], [\"for\", \"dateEnvoi\"], [\"formControlName\", \"dateEnvoie\", \"type\", \"date\", \"name\", \"dateEnvoie\", \"id\", \"dateEnvoi\", \"required\", \"\", 3, \"value\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"disabled\"]],\n  template: function PrelevementFormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtext(1, \"Enregister les informations de pr\\u00E9l\\u00E8vement d'\\u00E9chantillons:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"form\", 1, 2);\n      i0.ɵɵlistener(\"ngSubmit\", function PrelevementFormComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4)(6, \"label\", 5);\n      i0.ɵɵtext(7, \"Nom du produit:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 4)(10, \"label\", 7);\n      i0.ɵɵtext(11, \"Cat\\u00E9gorie du produit:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 4)(14, \"label\", 9);\n      i0.ɵɵtext(15, \"Num\\u00E9ro du proc\\u00E8s verbal:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"input\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 4)(18, \"label\", 11);\n      i0.ɵɵtext(19, \"Date du proces verbal\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(20, \"input\", 12);\n      i0.ɵɵpipe(21, \"date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 4)(23, \"label\", 13);\n      i0.ɵɵtext(24, \"Type du pr\\u00E9levement:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"select\", 14)(26, \"option\");\n      i0.ɵɵtext(27, \"P\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"option\");\n      i0.ɵɵtext(29, \"RS\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(30, \"div\", 4)(31, \"label\", 15);\n      i0.ɵɵtext(32, \"Niveau du pr\\u00E9lvement:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"select\", 16)(34, \"option\");\n      i0.ɵɵtext(35, \"GMS\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"option\");\n      i0.ɵɵtext(37, \"G\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"option\");\n      i0.ɵɵtext(39, \"D\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"option\");\n      i0.ɵɵtext(41, \"P\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"option\");\n      i0.ɵɵtext(43, \"A\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"option\");\n      i0.ɵɵtext(45, \"ES\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(46, \"div\", 4)(47, \"label\", 17);\n      i0.ɵɵtext(48, \"Cadre du controle:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(49, \"select\", 18)(50, \"option\");\n      i0.ɵɵtext(51, \"PC1\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(52, \"option\");\n      i0.ɵɵtext(53, \"PC2\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(54, \"option\");\n      i0.ɵɵtext(55, \"PC3\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(56, \"option\");\n      i0.ɵɵtext(57, \"FLA\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(58, \"option\");\n      i0.ɵɵtext(59, \"PCTM\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(60, \"option\");\n      i0.ɵɵtext(61, \"PMIC\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(62, \"option\");\n      i0.ɵɵtext(63, \"PPF\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(64, \"div\", 4)(65, \"label\", 19);\n      i0.ɵɵtext(66, \"Labo de destination:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(67, \"select\", 20)(68, \"option\");\n      i0.ɵɵtext(69, \"LOARC\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(70, \"option\");\n      i0.ɵɵtext(71, \"LRAR\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(72, \"div\", 4)(73, \"label\", 21);\n      i0.ɵɵtext(74, \"Date d'envoi d'echantillon\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(75, \"input\", 22);\n      i0.ɵɵpipe(76, \"date\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(77, \"button\", 23);\n      i0.ɵɵtext(78, \"Soumettre\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(3);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.prelevementFormGroup);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"value\", ctx.prelevementFormGroup.value.nom);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"value\", ctx.prelevementFormGroup.value.categorie);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"value\", ctx.prelevementFormGroup.value.numeroProcesVerbal);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"value\", i0.ɵɵpipeBind2(21, 11, ctx.prelevementFormGroup.value.dateProcesVerbal, \"yyyy-MM-dd\"));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"value\", ctx.prelevementFormGroup.value.typePrelevement);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"value\", ctx.prelevementFormGroup.value.niveauPrel);\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"value\", ctx.prelevementFormGroup.value.cadreControle);\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"value\", ctx.prelevementFormGroup.value.laboDestination);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"value\", i0.ɵɵpipeBind2(76, 14, ctx.prelevementFormGroup.value.dateEnvoie, \"yyyy-MM-dd\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", !_r0.valid);\n    }\n  },\n  dependencies: [i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName, i4.DatePipe],\n  styles: [\".header[_ngcontent-%COMP%]{\\r\\n  padding-top: 1.5rem;\\r\\n  text-align: center;\\r\\n  font-weight: 500;\\r\\n  font-size: 25px;\\r\\n  color: #6095C1;\\r\\n}\\r\\n@media(max-width:700px){\\r\\n  .header[_ngcontent-%COMP%]{\\r\\n    display: flex;\\r\\n  }\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\nform[_ngcontent-%COMP%]{\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\n.my_container[_ngcontent-%COMP%] {\\r\\n  margin-top: 30px;\\r\\n  width: 50%;\\r\\n  display: grid;\\r\\n  grid-template-columns: 40% 40% ;\\r\\n  column-gap: 20%;\\r\\n}\\r\\n\\r\\n.Nom[_ngcontent-%COMP%]{\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  margin-bottom: 15px;\\r\\n}\\r\\n\\r\\n.Nom[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .Nom[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\\r\\n  width: 250px;\\r\\n  height: 35px;\\r\\n  margin-top: 10px;\\r\\n}\\r\\n\\r\\n.Nom[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\r\\n  font-size: 15px;\\r\\n  padding: 10px;\\r\\n}\\r\\n\\r\\n\\r\\nform[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{\\r\\n  justify-content: start;\\r\\n\\r\\n}\\r\\nbutton[_ngcontent-%COMP%]{\\r\\n  background-color: #05F300;\\r\\n  color: white;\\r\\n  border: none;\\r\\n  font-weight: 600;\\r\\n  font-size: 20px;\\r\\n  padding: 10px 20px;\\r\\n  border-radius: 10px;\\r\\n  margin-top: 15px;\\r\\n}\\r\\n\\r\\nbutton[_ngcontent-%COMP%]:hover {\\r\\n  cursor: pointer;\\r\\n  opacity: 0.9;\\r\\n}\\r\\n\\r\\n.formvalid[_ngcontent-%COMP%]{\\r\\n  opacity: 0.3;\\r\\n}\\r\\ninput.ng-invalid.ng-touched[_ngcontent-%COMP%]{\\r\\n  border: 1px solid red;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9wcmVsZXZlbWVudC1mb3JtL3ByZWxldmVtZW50LWZvcm0uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG1CQUFtQjtFQUNuQixrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLGVBQWU7RUFDZixjQUFjO0FBQ2hCO0FBQ0E7RUFDRTtJQUNFLGFBQWE7RUFDZjtBQUNGOzs7O0FBSUE7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixVQUFVO0VBQ1YsYUFBYTtFQUNiLCtCQUErQjtFQUMvQixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxZQUFZO0VBQ1osWUFBWTtFQUNaLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixhQUFhO0FBQ2Y7OztBQUdBO0VBQ0Usc0JBQXNCOztBQUV4QjtBQUNBO0VBQ0UseUJBQXlCO0VBQ3pCLFlBQVk7RUFDWixZQUFZO0VBQ1osZ0JBQWdCO0VBQ2hCLGVBQWU7RUFDZixrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7QUFDQTtFQUNFLHFCQUFxQjtBQUN2QiIsInNvdXJjZXNDb250ZW50IjpbIi5oZWFkZXJ7XHJcbiAgcGFkZGluZy10b3A6IDEuNXJlbTtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICBmb250LXNpemU6IDI1cHg7XHJcbiAgY29sb3I6ICM2MDk1QzE7XHJcbn1cclxuQG1lZGlhKG1heC13aWR0aDo3MDBweCl7XHJcbiAgLmhlYWRlcntcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuXHJcbmZvcm17XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5teV9jb250YWluZXIge1xyXG4gIG1hcmdpbi10b3A6IDMwcHg7XHJcbiAgd2lkdGg6IDUwJTtcclxuICBkaXNwbGF5OiBncmlkO1xyXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogNDAlIDQwJSA7XHJcbiAgY29sdW1uLWdhcDogMjAlO1xyXG59XHJcblxyXG4uTm9te1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG59XHJcblxyXG4uTm9tIGlucHV0LCAuTm9tIHNlbGVjdCB7XHJcbiAgd2lkdGg6IDI1MHB4O1xyXG4gIGhlaWdodDogMzVweDtcclxuICBtYXJnaW4tdG9wOiAxMHB4O1xyXG59XHJcblxyXG4uTm9tIGlucHV0IHtcclxuICBmb250LXNpemU6IDE1cHg7XHJcbiAgcGFkZGluZzogMTBweDtcclxufVxyXG5cclxuXHJcbmZvcm0gYnV0dG9ue1xyXG4gIGp1c3RpZnktY29udGVudDogc3RhcnQ7XHJcblxyXG59XHJcbmJ1dHRvbntcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDVGMzAwO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICBmb250LXNpemU6IDIwcHg7XHJcbiAgcGFkZGluZzogMTBweCAyMHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgbWFyZ2luLXRvcDogMTVweDtcclxufVxyXG5cclxuYnV0dG9uOmhvdmVyIHtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgb3BhY2l0eTogMC45O1xyXG59XHJcblxyXG4uZm9ybXZhbGlke1xyXG4gIG9wYWNpdHk6IDAuMztcclxufVxyXG5pbnB1dC5uZy1pbnZhbGlkLm5nLXRvdWNoZWR7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgcmVkO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["Produit","Prelevement","PrelevementFormComponent","constructor","fb","prelevementService","router","activatedRoute","ngOnInit","prelevementFormGroup","group","nom","control","categorie","dateProcesVerbal","numeroProcesVerbal","typePrelevement","cadreControle","niveauPrel","laboDestination","dateEnvoie","idPrelevement","snapshot","paramMap","get","getPrelevementById","subscribe","next","data","console","log","value","produitDTO","error","err","onSubmit","produit","prelevement","etatAvancement","jwt","localStorage","getItem","jwtData","split","decodedJwtJsonData","window","atob","decodedJwtData","JSON","parse","idPersonne","savePrelevement","reset","navigateByUrl","selectors","viewQuery","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\hp\\OneDrive\\Desktop\\Nouveau dossier (5)\\mini-projet-front\\mini-projet-front\\src\\app\\components\\prelevement-form\\prelevement-form.component.ts","C:\\Users\\hp\\OneDrive\\Desktop\\Nouveau dossier (5)\\mini-projet-front\\mini-projet-front\\src\\app\\components\\prelevement-form\\prelevement-form.component.html"],"sourcesContent":["import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {FormBuilder, FormGroup, NgForm} from \"@angular/forms\";\r\nimport {Produit} from \"../../models/produit.model\";\r\nimport {Prelevement} from \"../../models/prelevement.model\";\r\nimport {PrelevementService} from \"../../services/prelevement.service\";\r\nimport {ActivatedRoute, Router} from \"@angular/router\";\r\n\r\n\r\n@Component({\r\n  selector: 'app-prelevement-form',\r\n  templateUrl: './prelevement-form.component.html',\r\n  styleUrls: ['./prelevement-form.component.css']\r\n})\r\nexport class PrelevementFormComponent implements OnInit{\r\n  @ViewChild('f') Signupfrom: NgForm | undefined;\r\n  prelevementFormGroup!: FormGroup;\r\n  produit: Produit = new Produit();\r\n  prelevement: Prelevement = new Prelevement() ;\r\n  idPrelevement!: number;\r\n\r\n  constructor(private fb: FormBuilder,\r\n              private prelevementService: PrelevementService,\r\n              private router: Router,\r\n              private activatedRoute: ActivatedRoute) {\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.prelevementFormGroup = this.fb.group({\r\n      nom: this.fb.control(null),\r\n      categorie: this.fb.control(null),\r\n      dateProcesVerbal: this.fb.control(null),\r\n      numeroProcesVerbal: this.fb.control(null),\r\n      typePrelevement: this.fb.control(null),\r\n      cadreControle: this.fb.control(null),\r\n      niveauPrel: this.fb.control(null),\r\n      laboDestination: this.fb.control(null),\r\n      dateEnvoie: this.fb.control(null),\r\n    })\r\n\r\n    this.idPrelevement = this.activatedRoute.snapshot.paramMap.get('id') as unknown as number;\r\n    if (this.idPrelevement){\r\n      this.prelevementService.getPrelevementById(this.idPrelevement).subscribe({\r\n        next: data => {\r\n          console.log(\"Hello\")\r\n          console.log(data);\r\n          this.prelevementFormGroup.value.nom = data.produitDTO.nom\r\n          this.prelevementFormGroup.value.categorie = data.produitDTO.categorie\r\n          this.prelevementFormGroup.value.dateProcesVerbal = data.dateProcesVerbal\r\n          this.prelevementFormGroup.value.numeroProcesVerbal = data.numeroProcesVerbal\r\n          this.prelevementFormGroup.value.typePrelevement = data.typePrelevement\r\n          this.prelevementFormGroup.value.cadreControle = data.cadreControle\r\n          this.prelevementFormGroup.value.niveauPrel = data.niveauPrel\r\n          this.prelevementFormGroup.value.laboDestination = data.laboDestination\r\n          this.prelevementFormGroup.value.dateEnvoie = data.dateEnvoie\r\n          console.log(this.prelevementFormGroup.value);\r\n        },\r\n        error : err => {\r\n          console.log(err)\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  onSubmit(){\r\n    this.produit.nom = this.prelevementFormGroup.value.nom;\r\n    this.produit.categorie = this.prelevementFormGroup.value.categorie;\r\n    this.prelevement.produitDTO = this.produit;\r\n\r\n    this.prelevement.dateProcesVerbal = this.prelevementFormGroup.value.dateProcesVerbal;\r\n    this.prelevement.numeroProcesVerbal = this.prelevementFormGroup.value.numeroProcesVerbal;\r\n    this.prelevement.typePrelevement = this.prelevementFormGroup.value.typePrelevement;\r\n    this.prelevement.cadreControle = this.prelevementFormGroup.value.cadreControle;\r\n    this.prelevement.niveauPrel = this.prelevementFormGroup.value.niveauPrel;\r\n    this.prelevement.laboDestination = this.prelevementFormGroup.value.laboDestination;\r\n    this.prelevement.dateEnvoie = this.prelevementFormGroup.value.dateEnvoie;\r\n    this.prelevement.etatAvancement = 'EN_INSTANCE'\r\n\r\n    let jwt: string | null = localStorage.getItem('token');\r\n    let jwtData: string = '';\r\n    if (jwt)  jwtData = jwt.split('.')[1];\r\n    let decodedJwtJsonData = window.atob(jwtData);\r\n    let decodedJwtData = JSON.parse(decodedJwtJsonData);\r\n    let idPersonne = decodedJwtData.idPersonne;\r\n\r\n    this.prelevement.idPersonne = idPersonne;\r\n\r\n    console.log(this.prelevement)\r\n\r\n    this.prelevementService.savePrelevement(this.prelevement).subscribe({\r\n      next: data => {\r\n        console.log(\"Gooood\");\r\n        this.prelevementFormGroup.reset();\r\n        this.router.navigateByUrl(\"feedback\");\r\n      },\r\n      error: err => {\r\n        console.log(err);\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n}","\r\n<div class=\"header\">Enregister les informations de prélèvement d'échantillons:</div>\r\n<form (ngSubmit)=\"onSubmit()\" [formGroup]=\"prelevementFormGroup\" #f=\"ngForm\">\r\n  <div class=\"my_container\">\r\n    <div class=\"Nom\">\r\n      <label for=\"nom\" >Nom du produit:</label>\r\n      <input [value]=\"prelevementFormGroup.value.nom\"\r\n             formControlName=\"nom\" placeholder=\"tomates\"\r\n             type=\"text\"  id=\"nom\"  name=\"nom\" required\r\n      >\r\n    </div>\r\n\r\n    <div class=\"Nom\">\r\n      <label for=\"categorie\">Catégorie du produit:</label>\r\n      <input [value]=\"prelevementFormGroup.value.categorie\"\r\n             formControlName=\"categorie\" placeholder=\"ex:légume\"\r\n             type=\"text\"  name=\"categorie\" id=\"categorie\" required\r\n      >\r\n    </div>\r\n\r\n    <div class=\"Nom\">\r\n      <label  for=\"numero\">Numéro du procès verbal:</label>\r\n      <input [value]=\"prelevementFormGroup.value.numeroProcesVerbal\"\r\n             formControlName=\"numeroProcesVerbal\" placeholder=\"ex:2304\"\r\n             type=\"text\"  name=\"numeroProcesVerbal\" id=\"numero\" required\r\n      >\r\n    </div>\r\n\r\n    <div class=\"Nom\">\r\n      <label for=\"date\">Date du proces verbal</label>\r\n      <input [value]=\"prelevementFormGroup.value.dateProcesVerbal | date : 'yyyy-MM-dd'\"\r\n             formControlName=\"dateProcesVerbal\"\r\n             type=\"date\"  name=\"dateProcesVerbal\" id=\"date\" required\r\n      >\r\n    </div>\r\n\r\n    <div class=\"Nom\">\r\n      <label for=\"cars\">Type du prélevement:</label>\r\n      <select [value]=\"prelevementFormGroup.value.typePrelevement\" id=\"cars\"\r\n              formControlName=\"typePrelevement\"\r\n      >\r\n        <option>P</option>\r\n        <option>RS</option>\r\n      </select>\r\n    </div>\r\n\r\n    <div class=\"Nom\">\r\n      <label for=\"niveauPrel\">Niveau du prélvement:</label>\r\n      <select [value]=\"prelevementFormGroup.value.niveauPrel\"\r\n              id=\"niveauPrel\" formControlName=\"niveauPrel\"\r\n      >\r\n        <option>GMS</option>\r\n        <option>G</option>\r\n        <option>D</option>\r\n        <option>P</option>\r\n        <option>A</option>\r\n        <option>ES</option>\r\n      </select>\r\n    </div>\r\n\r\n    <div class=\"Nom\">\r\n      <label for=\"cadreControle\">Cadre du controle:</label>\r\n      <select [value]=\"prelevementFormGroup.value.cadreControle\"\r\n              id=\"cadreControle\" formControlName=\"cadreControle\"\r\n      >\r\n        <option>PC1</option>\r\n        <option>PC2</option>\r\n        <option>PC3</option>\r\n        <option>FLA</option>\r\n        <option>PCTM</option>\r\n        <option>PMIC</option>\r\n        <option>PPF</option>\r\n      </select>\r\n    </div>\r\n\r\n    <div class=\"Nom\">\r\n      <label for=\"labo\">Labo de destination:</label>\r\n      <select [value]=\"prelevementFormGroup.value.laboDestination\"\r\n              id=\"labo\" formControlName=\"laboDestination\"\r\n      >\r\n        <option>LOARC</option>\r\n        <option>LRAR</option>\r\n      </select>\r\n    </div>\r\n\r\n    <div class=\"Nom\">\r\n      <label for=\"dateEnvoi\">Date d'envoi d'echantillon</label>\r\n      <input [value]=\"prelevementFormGroup.value.dateEnvoie | date : 'yyyy-MM-dd'\"\r\n             formControlName=\"dateEnvoie\"\r\n             type=\"date\" name=\"dateEnvoie\" id=\"dateEnvoi\" required\r\n      >\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <button type=\"submit\" [disabled]=\"!f.valid\" class=\"btn btn-success\">Soumettre</button>\r\n\r\n</form>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}