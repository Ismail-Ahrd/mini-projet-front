{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/prelevement.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/router\";\nexport class PrelevementInfoComponent {\n  constructor(prelevementService, fb, router, activatedRoute) {\n    this.prelevementService = prelevementService;\n    this.fb = fb;\n    this.router = router;\n    this.activatedRoute = activatedRoute;\n    this.page = 0;\n  }\n  ngOnInit() {\n    this.activatedRoute.paramMap.subscribe(params => {\n      const pageString = params.get(\"page\");\n      if (typeof pageString === \"string\") {\n        this.page = JSON.parse(pageString);\n      }\n    });\n    this.filterFormGroup = this.fb.group({\n      keyword: this.fb.control(\"\"),\n      etat: this.fb.control(\"\")\n    });\n    this.handleGetAllPrelevement(\"\", \"\", this.page, 5);\n  }\n  handleGetAllPrelevement(keyword, etat, page, size) {\n    this.prelevementService.getAllPrelevement(keyword, etat, page, size).subscribe({\n      next: data => {\n        this.prelevementResponses = data;\n        //console.log(data)\n      },\n\n      error: err => {\n        console.log(err);\n      }\n    });\n  }\n  goToPage(page) {\n    const currentUrl = this.router.url;\n    const updatedUrl = currentUrl.replace(/;page=\\d+/, '');\n    this.router.navigateByUrl(updatedUrl);\n    let keyword = this.filterFormGroup.value.keyword;\n    let etat = this.filterFormGroup.value.etat;\n    this.handleGetAllPrelevement(keyword, etat, page, 5);\n  }\n  handleDeletePrelevement(id, page, size) {\n    console.log(id, page, size);\n    let keyword = this.filterFormGroup.value.keyword;\n    let etat = this.filterFormGroup.value.etat;\n    let conf = confirm(\"Êtes-vous sûr?\");\n    if (!conf) return;\n    this.prelevementService.deletePrelevement(id).subscribe({\n      next: data => {\n        //console.log(data);\n        this.handleGetAllPrelevement(keyword, etat, page, size);\n      },\n      error: err => {\n        console.log(err);\n      }\n    });\n  }\n  handleFilterPrelevement() {\n    let keyword = this.filterFormGroup.value.keyword;\n    let etat = this.filterFormGroup.value.etat;\n    this.handleGetAllPrelevement(keyword, etat, 0, 5);\n  }\n  goToPrelevementForm() {\n    this.router.navigateByUrl(\"/prelvementForm\");\n  }\n  handleUpdatePrelevement(prelevement, page) {\n    //console.log(prelevement);\n    this.router.navigate([`prelevementForm/${prelevement.id}`, {\n      prelevement: JSON.stringify(prelevement),\n      page\n    }]);\n  }\n}\nPrelevementInfoComponent.ɵfac = function PrelevementInfoComponent_Factory(t) {\n  return new (t || PrelevementInfoComponent)(i0.ɵɵdirectiveInject(i1.PrelevementService), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n};\nPrelevementInfoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PrelevementInfoComponent,\n  selectors: [[\"app-prelevement-info\"]],\n  decls: 77,\n  vars: 2,\n  consts: [[1, \"header\"], [3, \"formGroup\", \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"my_container\"], [1, \"Nom\"], [\"for\", \"nom\"], [\"formControlName\", \"nom\", \"placeholder\", \"tomates\", \"type\", \"text\", \"id\", \"nom\", \"name\", \"nom\", \"required\", \"\"], [\"for\", \"categorie\"], [\"formControlName\", \"categorie\", \"placeholder\", \"ex:l\\u00E9gume\", \"type\", \"text\", \"name\", \"categorie\", \"id\", \"categorie\", \"required\", \"\"], [\"for\", \"numero\"], [\"formControlName\", \"numeroProcesVerbal\", \"placeholder\", \"ex:2304\", \"type\", \"text\", \"name\", \"numeroProcesVerbal\", \"id\", \"numero\", \"required\", \"\"], [\"for\", \"date\"], [\"formControlName\", \"dateProcesVerbal\", \"type\", \"date\", \"name\", \"dateProcesVerbal\", \"id\", \"date\", \"required\", \"\"], [\"for\", \"cars\"], [\"id\", \"cars\", \"formControlName\", \"typePrelevement\"], [\"for\", \"niveauPrel\"], [\"id\", \"niveauPrel\", \"formControlName\", \"niveauPrel\"], [\"for\", \"cadreControle\"], [\"id\", \"cadreControle\", \"formControlName\", \"cadreControle\"], [\"for\", \"labo\"], [\"id\", \"labo\", \"formControlName\", \"laboDestination\"], [\"for\", \"dateEnvoi\"], [\"formControlName\", \"dateEnvoie\", \"type\", \"date\", \"name\", \"dateEnvoie\", \"id\", \"dateEnvoi\", \"required\", \"\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"disabled\"]],\n  template: function PrelevementInfoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtext(1, \"Enregister les informations de pr\\u00E9l\\u00E8vement d'\\u00E9chantillons:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"form\", 1, 2);\n      i0.ɵɵlistener(\"ngSubmit\", function PrelevementInfoComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4)(6, \"label\", 5);\n      i0.ɵɵtext(7, \"Nom du produit:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 4)(10, \"label\", 7);\n      i0.ɵɵtext(11, \"Cat\\u00E9gorie du produit:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 4)(14, \"label\", 9);\n      i0.ɵɵtext(15, \"Num\\u00E9ro du proc\\u00E8s verbal:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"input\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 4)(18, \"label\", 11);\n      i0.ɵɵtext(19, \"Date du proces verbal\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(20, \"input\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"div\", 4)(22, \"label\", 13);\n      i0.ɵɵtext(23, \"Type du pr\\u00E9levement:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"select\", 14)(25, \"option\");\n      i0.ɵɵtext(26, \"P\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"option\");\n      i0.ɵɵtext(28, \"RS\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(29, \"div\", 4)(30, \"label\", 15);\n      i0.ɵɵtext(31, \"Niveau du pr\\u00E9lvement:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"select\", 16)(33, \"option\");\n      i0.ɵɵtext(34, \"GMS\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"option\");\n      i0.ɵɵtext(36, \"G\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"option\");\n      i0.ɵɵtext(38, \"D\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"option\");\n      i0.ɵɵtext(40, \"P\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"option\");\n      i0.ɵɵtext(42, \"A\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"option\");\n      i0.ɵɵtext(44, \"ES\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(45, \"div\", 4)(46, \"label\", 17);\n      i0.ɵɵtext(47, \"Cadre du controle:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"select\", 18)(49, \"option\");\n      i0.ɵɵtext(50, \"PC1\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(51, \"option\");\n      i0.ɵɵtext(52, \"PC2\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"option\");\n      i0.ɵɵtext(54, \"PC3\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"option\");\n      i0.ɵɵtext(56, \"FLA\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"option\");\n      i0.ɵɵtext(58, \"PCTM\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(59, \"option\");\n      i0.ɵɵtext(60, \"PMIC\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(61, \"option\");\n      i0.ɵɵtext(62, \"PPF\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(63, \"div\", 4)(64, \"label\", 19);\n      i0.ɵɵtext(65, \"Labo de destination:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(66, \"select\", 20)(67, \"option\");\n      i0.ɵɵtext(68, \"LOARC\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(69, \"option\");\n      i0.ɵɵtext(70, \"LRAR\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(71, \"div\", 4)(72, \"label\", 21);\n      i0.ɵɵtext(73, \"Date d'envoi d'echantillon\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(74, \"input\", 22);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(75, \"button\", 23);\n      i0.ɵɵtext(76, \"Soumettre\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(3);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.prelevementFormGroup);\n      i0.ɵɵadvance(73);\n      i0.ɵɵproperty(\"disabled\", !_r0.valid);\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.DefaultValueAccessor, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.RequiredValidator, i2.FormGroupDirective, i2.FormControlName],\n  styles: [\".my_container[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n}\\r\\n\\r\\n.top[_ngcontent-%COMP%] {\\r\\n  margin-top: 30px;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: space-evenly;\\r\\n}\\r\\n\\r\\n.top_left[_ngcontent-%COMP%] {\\r\\n  width: 55%;\\r\\n}\\r\\n\\r\\n.filter_form[_ngcontent-%COMP%]{\\r\\n  display: flex;\\r\\n}\\r\\n\\r\\n.filter_name[_ngcontent-%COMP%], .filter_etat[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: space-between;\\r\\n  margin-right: 15px;\\r\\n}\\r\\n\\r\\n.filter_name[_ngcontent-%COMP%] {\\r\\n  width: 47%;\\r\\n}\\r\\n\\r\\n.filter_etat[_ngcontent-%COMP%] {\\r\\n  width: 36%;\\r\\n}\\r\\n\\r\\n.filter_label[_ngcontent-%COMP%] {\\r\\n  font-size: 17px;\\r\\n  font-weight: 500;\\r\\n  color: #3A46B5;\\r\\n}\\r\\n\\r\\n.filter_input[_ngcontent-%COMP%], .filter_select[_ngcontent-%COMP%]  {\\r\\n  height: 35px;\\r\\n  border: solid  #2168A0 1px;\\r\\n  color: #3A46B5;\\r\\n}\\r\\n\\r\\n.filter_input[_ngcontent-%COMP%] {\\r\\n  font-size: 16px;\\r\\n  padding: 2px 5px;\\r\\n}\\r\\n\\r\\n.filter_btn[_ngcontent-%COMP%] {\\r\\n  width: 16%;\\r\\n  font-size: 18px;\\r\\n  font-weight: 400;\\r\\n  background-color: transparent;\\r\\n  color:  #3A46B5;\\r\\n  border: solid  #3A46B5 1px;\\r\\n  height: 35px;\\r\\n}\\r\\n\\r\\n.filter_btn[_ngcontent-%COMP%] {\\r\\n  cursor: pointer;\\r\\n  opacity: 0.9;\\r\\n}\\r\\n\\r\\n.top_right[_ngcontent-%COMP%] {\\r\\n  width: 40%;\\r\\n  display: flex;\\r\\n  justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.btn_add[_ngcontent-%COMP%] {\\r\\n  background-color: #3A46B5;\\r\\n  color: white;\\r\\n  border: none;\\r\\n  border-radius: 20px;\\r\\n  font-size: 20px;\\r\\n  width: 23%;\\r\\n  height: 35px;\\r\\n}\\r\\n\\r\\n.btn_add[_ngcontent-%COMP%]:hover {\\r\\n  cursor: pointer;\\r\\n  opacity: 0.9;\\r\\n}\\r\\n\\r\\n.table[_ngcontent-%COMP%] {\\r\\n  margin-top: 30px;\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n}\\r\\n\\r\\n.table_head[_ngcontent-%COMP%] {\\r\\n  background-color: #C7E1F6;\\r\\n  font-weight: 500;\\r\\n}\\r\\n\\r\\n.table_head[_ngcontent-%COMP%], .table_body[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  height: 60px;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n\\r\\n}\\r\\n\\r\\n.table_item[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n  text-align: center;\\r\\n  width: 7.69%;\\r\\n  height: 100%;\\r\\n  border-right: solid #CCCCCC 1px;\\r\\n  border-bottom: solid #CCCCCC 1px;\\r\\n}\\r\\n\\r\\n.btn[_ngcontent-%COMP%] {\\r\\n  border: none;\\r\\n  background-color: transparent;\\r\\n}\\r\\n\\r\\n.btn[_ngcontent-%COMP%]:hover {\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%] {\\r\\n  text-align: center;\\r\\n  font-size: 25px;\\r\\n}\\r\\n\\r\\n.btn_delete[_ngcontent-%COMP%] {\\r\\n  color: red;\\r\\n}\\r\\n\\r\\n.btn_update[_ngcontent-%COMP%] {\\r\\n  color: green;\\r\\n}\\r\\n\\r\\n.pages[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n}\\r\\n\\r\\n.pages[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\r\\n  list-style: none;\\r\\n  margin-right: 10px;\\r\\n  margin-top: 30px;\\r\\n}\\r\\n\\r\\n.btn_page[_ngcontent-%COMP%] {\\r\\n  border: solid #2168A0 1px;\\r\\n  border-radius: 5px;\\r\\n  background-color: white;\\r\\n  color: #2168A0;\\r\\n  font-weight: 600;\\r\\n  font-size: 20px;\\r\\n  width: 40px;\\r\\n  height: 40px;\\r\\n}\\r\\n\\r\\n.btn_current_page[_ngcontent-%COMP%] {\\r\\n  border: none;\\r\\n  border-radius: 5px;\\r\\n  background-color: #2168A0;\\r\\n  color: white;\\r\\n  font-weight: 600;\\r\\n  font-size: 20px;\\r\\n  width: 40px;\\r\\n  height: 40px;\\r\\n}\\r\\n\\r\\n.pages[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\r\\n  cursor: pointer;\\r\\n  opacity: 0.9;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9wcmVsZXZlbWVudC1pbmZvL3ByZWxldmVtZW50LWluZm8uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQWE7RUFDYixzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQiw2QkFBNkI7QUFDL0I7O0FBRUE7RUFDRSxVQUFVO0FBQ1o7O0FBRUE7RUFDRSxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLDhCQUE4QjtFQUM5QixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxVQUFVO0FBQ1o7O0FBRUE7RUFDRSxVQUFVO0FBQ1o7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsZ0JBQWdCO0VBQ2hCLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxZQUFZO0VBQ1osMEJBQTBCO0VBQzFCLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsVUFBVTtFQUNWLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsNkJBQTZCO0VBQzdCLGVBQWU7RUFDZiwwQkFBMEI7RUFDMUIsWUFBWTtBQUNkOztBQUVBO0VBQ0UsZUFBZTtFQUNmLFlBQVk7QUFDZDs7QUFFQTtFQUNFLFVBQVU7RUFDVixhQUFhO0VBQ2IseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLFlBQVk7RUFDWixZQUFZO0VBQ1osbUJBQW1CO0VBQ25CLGVBQWU7RUFDZixVQUFVO0VBQ1YsWUFBWTtBQUNkOztBQUVBO0VBQ0UsZUFBZTtFQUNmLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixhQUFhO0VBQ2Isc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxZQUFZO0VBQ1osYUFBYTtFQUNiLG1CQUFtQjs7QUFFckI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHVCQUF1QjtFQUN2QixrQkFBa0I7RUFDbEIsWUFBWTtFQUNaLFlBQVk7RUFDWiwrQkFBK0I7RUFDL0IsZ0NBQWdDO0FBQ2xDOztBQUVBO0VBQ0UsWUFBWTtFQUNaLDZCQUE2QjtBQUMvQjs7QUFFQTtFQUNFLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLFVBQVU7QUFDWjs7QUFFQTtFQUNFLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtFQUNsQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsa0JBQWtCO0VBQ2xCLHVCQUF1QjtFQUN2QixjQUFjO0VBQ2QsZ0JBQWdCO0VBQ2hCLGVBQWU7RUFDZixXQUFXO0VBQ1gsWUFBWTtBQUNkOztBQUVBO0VBQ0UsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQix5QkFBeUI7RUFDekIsWUFBWTtFQUNaLGdCQUFnQjtFQUNoQixlQUFlO0VBQ2YsV0FBVztFQUNYLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGVBQWU7RUFDZixZQUFZO0FBQ2QiLCJzb3VyY2VzQ29udGVudCI6WyIubXlfY29udGFpbmVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbn1cclxuXHJcbi50b3Age1xyXG4gIG1hcmdpbi10b3A6IDMwcHg7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xyXG59XHJcblxyXG4udG9wX2xlZnQge1xyXG4gIHdpZHRoOiA1NSU7XHJcbn1cclxuXHJcbi5maWx0ZXJfZm9ybXtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG59XHJcblxyXG4uZmlsdGVyX25hbWUsIC5maWx0ZXJfZXRhdCB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBtYXJnaW4tcmlnaHQ6IDE1cHg7XHJcbn1cclxuXHJcbi5maWx0ZXJfbmFtZSB7XHJcbiAgd2lkdGg6IDQ3JTtcclxufVxyXG5cclxuLmZpbHRlcl9ldGF0IHtcclxuICB3aWR0aDogMzYlO1xyXG59XHJcblxyXG4uZmlsdGVyX2xhYmVsIHtcclxuICBmb250LXNpemU6IDE3cHg7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICBjb2xvcjogIzNBNDZCNTtcclxufVxyXG5cclxuLmZpbHRlcl9pbnB1dCwgLmZpbHRlcl9zZWxlY3QgIHtcclxuICBoZWlnaHQ6IDM1cHg7XHJcbiAgYm9yZGVyOiBzb2xpZCAgIzIxNjhBMCAxcHg7XHJcbiAgY29sb3I6ICMzQTQ2QjU7XHJcbn1cclxuXHJcbi5maWx0ZXJfaW5wdXQge1xyXG4gIGZvbnQtc2l6ZTogMTZweDtcclxuICBwYWRkaW5nOiAycHggNXB4O1xyXG59XHJcblxyXG4uZmlsdGVyX2J0biB7XHJcbiAgd2lkdGg6IDE2JTtcclxuICBmb250LXNpemU6IDE4cHg7XHJcbiAgZm9udC13ZWlnaHQ6IDQwMDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICBjb2xvcjogICMzQTQ2QjU7XHJcbiAgYm9yZGVyOiBzb2xpZCAgIzNBNDZCNSAxcHg7XHJcbiAgaGVpZ2h0OiAzNXB4O1xyXG59XHJcblxyXG4uZmlsdGVyX2J0biB7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIG9wYWNpdHk6IDAuOTtcclxufVxyXG5cclxuLnRvcF9yaWdodCB7XHJcbiAgd2lkdGg6IDQwJTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcbn1cclxuXHJcbi5idG5fYWRkIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjM0E0NkI1O1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcclxuICBmb250LXNpemU6IDIwcHg7XHJcbiAgd2lkdGg6IDIzJTtcclxuICBoZWlnaHQ6IDM1cHg7XHJcbn1cclxuXHJcbi5idG5fYWRkOmhvdmVyIHtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgb3BhY2l0eTogMC45O1xyXG59XHJcblxyXG4udGFibGUge1xyXG4gIG1hcmdpbi10b3A6IDMwcHg7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG59XHJcblxyXG4udGFibGVfaGVhZCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI0M3RTFGNjtcclxuICBmb250LXdlaWdodDogNTAwO1xyXG59XHJcblxyXG4udGFibGVfaGVhZCwgLnRhYmxlX2JvZHkge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogNjBweDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblxyXG59XHJcblxyXG4udGFibGVfaXRlbSB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB3aWR0aDogNy42OSU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIGJvcmRlci1yaWdodDogc29saWQgI0NDQ0NDQyAxcHg7XHJcbiAgYm9yZGVyLWJvdHRvbTogc29saWQgI0NDQ0NDQyAxcHg7XHJcbn1cclxuXHJcbi5idG4ge1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxufVxyXG5cclxuLmJ0bjpob3ZlciB7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4uYnRuIC5pY29uIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgZm9udC1zaXplOiAyNXB4O1xyXG59XHJcblxyXG4uYnRuX2RlbGV0ZSB7XHJcbiAgY29sb3I6IHJlZDtcclxufVxyXG5cclxuLmJ0bl91cGRhdGUge1xyXG4gIGNvbG9yOiBncmVlbjtcclxufVxyXG5cclxuLnBhZ2VzIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi5wYWdlcyBsaSB7XHJcbiAgbGlzdC1zdHlsZTogbm9uZTtcclxuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XHJcbiAgbWFyZ2luLXRvcDogMzBweDtcclxufVxyXG5cclxuLmJ0bl9wYWdlIHtcclxuICBib3JkZXI6IHNvbGlkICMyMTY4QTAgMXB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICBjb2xvcjogIzIxNjhBMDtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG4gIGZvbnQtc2l6ZTogMjBweDtcclxuICB3aWR0aDogNDBweDtcclxuICBoZWlnaHQ6IDQwcHg7XHJcbn1cclxuXHJcbi5idG5fY3VycmVudF9wYWdlIHtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMyMTY4QTA7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgZm9udC1zaXplOiAyMHB4O1xyXG4gIHdpZHRoOiA0MHB4O1xyXG4gIGhlaWdodDogNDBweDtcclxufVxyXG5cclxuLnBhZ2VzIGJ1dHRvbjpob3ZlciB7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIG9wYWNpdHk6IDAuOTtcclxufVxyXG5cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["PrelevementInfoComponent","constructor","prelevementService","fb","router","activatedRoute","ngOnInit","paramMap","subscribe","params","pageString","get","page","JSON","parse","filterFormGroup","group","keyword","control","etat","handleGetAllPrelevement","size","getAllPrelevement","next","data","prelevementResponses","error","err","console","log","goToPage","currentUrl","url","updatedUrl","replace","navigateByUrl","value","handleDeletePrelevement","id","conf","confirm","deletePrelevement","handleFilterPrelevement","goToPrelevementForm","handleUpdatePrelevement","prelevement","navigate","stringify","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\P15S 1\\Desktop\\fronte\\mini-projet-front\\mini-projet-front\\src\\app\\components\\prelevement-info\\prelevement-info.component.ts","C:\\Users\\P15S 1\\Desktop\\fronte\\mini-projet-front\\mini-projet-front\\src\\app\\components\\prelevement-info\\prelevement-info.component.html"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\r\nimport {PrelevementService} from \"../../services/prelevement.service\";\r\nimport {Prelevement, PrelevementResponse} from \"../../models/prelevement.model\";\r\nimport {FormBuilder, FormGroup} from \"@angular/forms\";\r\nimport {PageEvent} from \"@angular/material/paginator\";\r\nimport {MatPaginator} from \"@angular/material/paginator\";\r\nimport {ActivatedRoute, NavigationExtras, Router} from \"@angular/router\";\r\n\r\n\r\n@Component({\r\n  selector: 'app-prelevement-info',\r\n  templateUrl: './prelevement-info.component.html',\r\n  styleUrls: ['./prelevement-info.component.css']\r\n})\r\nexport class PrelevementInfoComponent implements OnInit{\r\n  prelevementResponses!: PrelevementResponse;\r\n  filterFormGroup!: FormGroup;\r\n  page: number = 0;\r\n\r\n  constructor(private prelevementService: PrelevementService,\r\n              private fb: FormBuilder,\r\n              private router: Router,\r\n              private activatedRoute: ActivatedRoute) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.activatedRoute.paramMap.subscribe(params => {\r\n      const pageString = params.get(\"page\");\r\n      if (typeof pageString === \"string\") {\r\n        this.page = JSON.parse(pageString);\r\n      }\r\n    })\r\n\r\n    this.filterFormGroup = this.fb.group({\r\n      keyword: this.fb.control(\"\"),\r\n      etat: this.fb.control(\"\")\r\n    });\r\n\r\n    this.handleGetAllPrelevement(\"\", \"\",  this.page, 5);\r\n\r\n  }\r\n\r\n  handleGetAllPrelevement(keyword: string, etat: string, page: number, size: number) {\r\n    this.prelevementService.getAllPrelevement(keyword,etat,page,size).subscribe({\r\n      next: data => {\r\n        this.prelevementResponses = data;\r\n        //console.log(data)\r\n      },\r\n      error: err => {\r\n        console.log(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  goToPage(page: number) {\r\n    const currentUrl = this.router.url;\r\n    const updatedUrl = currentUrl.replace(/;page=\\d+/, '');\r\n    this.router.navigateByUrl(updatedUrl);\r\n\r\n    let keyword: string = this.filterFormGroup.value.keyword;\r\n    let etat: string = this.filterFormGroup.value.etat;\r\n    this.handleGetAllPrelevement(keyword, etat, page, 5);\r\n  }\r\n\r\n  handleDeletePrelevement(id: number, page: number, size: number) {\r\n    console.log(id, page, size);\r\n    let keyword: string = this.filterFormGroup.value.keyword;\r\n    let etat: string = this.filterFormGroup.value.etat;\r\n    let conf: boolean = confirm(\"Êtes-vous sûr?\");\r\n    if(!conf) return\r\n    this.prelevementService.deletePrelevement(id).subscribe({\r\n      next: data => {\r\n        //console.log(data);\r\n        this.handleGetAllPrelevement(keyword, etat, page, size);\r\n      },\r\n      error: err => {\r\n        console.log(err);\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  handleFilterPrelevement() {\r\n    let keyword: string = this.filterFormGroup.value.keyword;\r\n    let etat: string = this.filterFormGroup.value.etat;\r\n    this.handleGetAllPrelevement(keyword, etat, 0, 5);\r\n  }\r\n\r\n  goToPrelevementForm() {\r\n    this.router.navigateByUrl(\"/prelvementForm\");\r\n  }\r\n\r\n  handleUpdatePrelevement(prelevement: Prelevement, page: number) {\r\n    //console.log(prelevement);\r\n    this.router.navigate(\r\n      [`prelevementForm/${prelevement.id}`, {prelevement : JSON.stringify(prelevement), page} ])\r\n  }\r\n\r\n}","\r\n<div class=\"header\">Enregister les informations de prélèvement d'échantillons:</div>\r\n<form (ngSubmit)=\"onSubmit()\" [formGroup]=\"prelevementFormGroup\" #f=\"ngForm\">\r\n  <div class=\"my_container\">\r\n    <div class=\"Nom\">\r\n      <label for=\"nom\" >Nom du produit:</label>\r\n      <input formControlName=\"nom\" placeholder=\"tomates\"\r\n             type=\"text\"  id=\"nom\"  name=\"nom\" required\r\n      >\r\n    </div>\r\n\r\n    <div class=\"Nom\">\r\n      <label for=\"categorie\">Catégorie du produit:</label>\r\n      <input formControlName=\"categorie\" placeholder=\"ex:légume\"\r\n             type=\"text\"  name=\"categorie\" id=\"categorie\" required\r\n      >\r\n    </div>\r\n\r\n    <div class=\"Nom\">\r\n      <label  for=\"numero\">Numéro du procès verbal:</label>\r\n      <input formControlName=\"numeroProcesVerbal\" placeholder=\"ex:2304\"\r\n             type=\"text\"  name=\"numeroProcesVerbal\" id=\"numero\" required\r\n      >\r\n    </div>\r\n\r\n    <div class=\"Nom\">\r\n      <label for=\"date\">Date du proces verbal</label>\r\n      <input formControlName=\"dateProcesVerbal\"\r\n             type=\"date\"  name=\"dateProcesVerbal\" id=\"date\" required\r\n      >\r\n    </div>\r\n\r\n    <div class=\"Nom\">\r\n      <label for=\"cars\">Type du prélevement:</label>\r\n      <select id=\"cars\" formControlName=\"typePrelevement\">\r\n        <option>P</option>\r\n        <option>RS</option>\r\n      </select>\r\n    </div>\r\n\r\n    <div class=\"Nom\">\r\n      <label for=\"niveauPrel\">Niveau du prélvement:</label>\r\n      <select id=\"niveauPrel\" formControlName=\"niveauPrel\">\r\n        <option>GMS</option>\r\n        <option>G</option>\r\n        <option>D</option>\r\n        <option>P</option>\r\n        <option>A</option>\r\n        <option>ES</option>\r\n      </select>\r\n    </div>\r\n\r\n    <div class=\"Nom\">\r\n      <label for=\"cadreControle\">Cadre du controle:</label>\r\n      <select id=\"cadreControle\" formControlName=\"cadreControle\">\r\n        <option>PC1</option>\r\n        <option>PC2</option>\r\n        <option>PC3</option>\r\n        <option>FLA</option>\r\n        <option>PCTM</option>\r\n        <option>PMIC</option>\r\n        <option>PPF</option>\r\n      </select>\r\n    </div>\r\n\r\n    <div class=\"Nom\">\r\n      <label for=\"labo\">Labo de destination:</label>\r\n      <select id=\"labo\" formControlName=\"laboDestination\">\r\n        <option>LOARC</option>\r\n        <option>LRAR</option>\r\n      </select>\r\n    </div>\r\n\r\n    <div class=\"Nom\">\r\n      <label for=\"dateEnvoi\">Date d'envoi d'echantillon</label>\r\n      <input formControlName=\"dateEnvoie\"\r\n             type=\"date\" name=\"dateEnvoie\" id=\"dateEnvoi\" required\r\n      >\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <button type=\"submit\" [disabled]=\"!f.valid\" class=\"btn btn-success\">Soumettre</button>\r\n\r\n</form>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}