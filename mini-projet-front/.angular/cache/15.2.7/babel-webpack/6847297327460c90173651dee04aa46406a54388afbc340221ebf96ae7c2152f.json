{"ast":null,"code":"import { AuthRequest } from \"../models/authRequest.model\";\nimport { BehaviorSubject, of } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class AuthenticationService {\n  constructor(http) {\n    this.http = http;\n    this.backendHost = \"http://localhost:8080\";\n    this.booleanValue = new BehaviorSubject(false);\n  }\n  login(email, password) {\n    let url = `${this.backendHost}/authentication/authenticate`;\n    let request = new AuthRequest();\n    request.email = email;\n    request.password = password;\n    //console.log(request);\n    return this.http.post(url, request);\n  }\n  register(registerRequest) {\n    let url = `${this.backendHost}/authentication/register`;\n    console.log(registerRequest);\n    return this.http.post(url, registerRequest);\n  }\n  getDecodeToken() {\n    return of(this.decodedToken);\n  }\n  setDecodedToken(newDecodeToken) {\n    this.decodedToken = newDecodeToken;\n  }\n  getBooleanValue() {\n    return this.booleanValue.asObservable();\n  }\n  setBooleanValue(newValue) {\n    this.booleanValue.next(newValue);\n  }\n}\nAuthenticationService.ɵfac = function AuthenticationService_Factory(t) {\n  return new (t || AuthenticationService)(i0.ɵɵinject(i1.HttpClient));\n};\nAuthenticationService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AuthenticationService,\n  factory: AuthenticationService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AAEA,SAAQA,WAAW,QAAO,6BAA6B;AACvD,SAAQC,eAAe,EAAmBC,EAAE,QAAO,MAAM;;;AAOzD,OAAM,MAAOC,qBAAqB;EAIhCC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IAFxB,gBAAW,GAAW,uBAAuB;IAqCrC,iBAAY,GAAG,IAAIJ,eAAe,CAAU,KAAK,CAAC;EAnClB;EAEjCK,KAAK,CAACC,KAAa,EAAEC,QAAgB;IAC1C,IAAIC,GAAG,GAAW,GAAG,IAAI,CAACC,WAAW,8BAA8B;IACnE,IAAIC,OAAO,GAAgB,IAAIX,WAAW,EAAE;IAC5CW,OAAO,CAACJ,KAAK,GAAGA,KAAK;IACrBI,OAAO,CAACH,QAAQ,GAAGA,QAAQ;IAC3B;IAEA,OAAO,IAAI,CAACH,IAAI,CAACO,IAAI,CAAeH,GAAG,EAACE,OAAO,CAAC;EAClD;EAGOE,QAAQ,CAACC,eAAgC;IAC9C,IAAIL,GAAG,GAAW,GAAG,IAAI,CAACC,WAAW,0BAA0B;IAC/DK,OAAO,CAACC,GAAG,CAACF,eAAe,CAAC;IAC5B,OAAO,IAAI,CAACT,IAAI,CAACO,IAAI,CAAeH,GAAG,EAACK,eAAe,CAAC;EAC1D;EAEOG,cAAc;IACnB,OAAOf,EAAE,CAAC,IAAI,CAACgB,YAAY,CAAC;EAC9B;EAEOC,eAAe,CAACC,cAAmB;IACxC,IAAI,CAACF,YAAY,GAAGE,cAAc;EACpC;EAEAC,eAAe;IACb,OAAO,IAAI,CAACC,YAAY,CAACC,YAAY,EAAE;EACzC;EAEAC,eAAe,CAACC,QAAiB;IAC/B,IAAI,CAACH,YAAY,CAACI,IAAI,CAACD,QAAQ,CAAC;EAElC;;AAtCWtB,qBAAqB;mBAArBA,qBAAqB;AAAA;AAArBA,qBAAqB;SAArBA,qBAAqB;EAAAwB,SAArBxB,qBAAqB;EAAAyB,YAFpB;AAAM","names":["AuthRequest","BehaviorSubject","of","AuthenticationService","constructor","http","login","email","password","url","backendHost","request","post","register","registerRequest","console","log","getDecodeToken","decodedToken","setDecodedToken","newDecodeToken","getBooleanValue","booleanValue","asObservable","setBooleanValue","newValue","next","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\hp\\OneDrive\\Desktop\\Nouveau dossier (5)\\mini-projet-front\\mini-projet-front\\src\\app\\services\\authentication.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport {HttpClient} from \"@angular/common/http\";\r\nimport {AuthRequest} from \"../models/authRequest.model\";\r\nimport {BehaviorSubject, Observable, map, of} from \"rxjs\";\r\nimport {AuthResponse} from \"../models/authResponse.model\";\r\nimport {RegisterRequest} from \"../models/RegisterRequest.model\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthenticationService {\r\n  decodedToken:any;\r\n  backendHost: string = \"http://localhost:8080\";\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  public login(email: string, password: string): Observable<AuthResponse> {\r\n    let url: string = `${this.backendHost}/authentication/authenticate`;\r\n    let request: AuthRequest = new AuthRequest();\r\n    request.email = email;\r\n    request.password = password;\r\n    //console.log(request);\r\n\r\n    return this.http.post<AuthResponse>(url,request);\r\n  }\r\n\r\n\r\n  public register(registerRequest: RegisterRequest)  {\r\n    let url: string = `${this.backendHost}/authentication/register`;\r\n    console.log(registerRequest);\r\n    return this.http.post<AuthResponse>(url,registerRequest)\r\n  }\r\n\r\n  public getDecodeToken() {\r\n    return of(this.decodedToken);\r\n  }\r\n\r\n  public setDecodedToken(newDecodeToken: any) {\r\n    this.decodedToken = newDecodeToken;\r\n  }\r\n\r\n  getBooleanValue() {\r\n    return this.booleanValue.asObservable();\r\n  }\r\n\r\n  setBooleanValue(newValue: boolean) {\r\n    this.booleanValue.next(newValue);\r\n\r\n  }\r\n  private booleanValue = new BehaviorSubject<boolean>(false);\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}