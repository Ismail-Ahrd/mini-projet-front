{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/resultat-prelevement.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"src/app/services/authentication.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nfunction PrelevementResultatComponent_ng_container_30_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"div\", 9);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 9);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 9);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 9);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 9);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 9);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 9);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 9);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 9);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 9)(21, \"button\", 15);\n    i0.ɵɵelement(22, \"i\", 16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"div\", 9)(24, \"button\", 17);\n    i0.ɵɵelement(25, \"i\", 18);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const resultat_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(resultat_r3.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(resultat_r3.idPrelevement);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(resultat_r3.nomProduit);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(resultat_r3.numeroBA);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 9, resultat_r3.dateBA, \"dd-MM-YYYY\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(resultat_r3.conforme ? \"Oui\" : \"Non\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(resultat_r3.conforme ? \"-\" : resultat_r3.numeroTA);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(resultat_r3.conforme ? \"-\" : resultat_r3.dateTA);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(resultat_r3.conforme ? \"-\" : resultat_r3.detail);\n  }\n}\nfunction PrelevementResultatComponent_ng_container_30_li_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 19)(1, \"a\")(2, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function PrelevementResultatComponent_ng_container_30_li_3_Template_button_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const page_r6 = restoredCtx.index;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.goToPage(page_r6));\n    });\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const page_r6 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", page_r6 == ctx_r2.resultats.currentPage ? \"btn_current_page\" : \"btn_page\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", page_r6, \" \");\n  }\n}\nconst _c0 = function () {\n  return [];\n};\nfunction PrelevementResultatComponent_ng_container_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, PrelevementResultatComponent_ng_container_30_div_1_Template, 26, 12, \"div\", 11);\n    i0.ɵɵelementStart(2, \"ul\", 12);\n    i0.ɵɵtemplate(3, PrelevementResultatComponent_ng_container_30_li_3_Template, 4, 2, \"li\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.resultats.resultatPrelevementDTOS);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(2, _c0).constructor(ctx_r0.resultats.totalPages));\n  }\n}\nexport class PrelevementResultatComponent {\n  constructor(resultatService, fb, authservice, Route) {\n    this.resultatService = resultatService;\n    this.fb = fb;\n    this.authservice = authservice;\n    this.Route = Route;\n  }\n  ngOnInit() {\n    this.searchFormGroup = this.fb.group({\n      keyword: this.fb.control(\"\")\n    });\n    this.handleGetAllResultat(0, 5);\n  }\n  handleGetAllResultat(page, size) {\n    this.resultatService.getAllResultat(page, size).subscribe({\n      next: data => {\n        this.resultats = data;\n        this.resultats.resultatPrelevementDTOS.forEach(resultat => {\n          if (!resultat.conforme) {\n            this.handleGetDetail(resultat);\n          }\n        });\n      },\n      error: err => {\n        console.log(err);\n      }\n    });\n  }\n  handleGetDetail(resultat) {\n    this.resultatService.getDetailNonConformite(resultat.id).subscribe({\n      next: data => {\n        resultat.dateTA = data.dateTA;\n        resultat.numeroTA = data.numeroTA;\n        resultat.detail = data.detail;\n      },\n      error: err => {\n        console.log(err);\n      }\n    });\n  }\n  goToPage(page) {\n    this.handleGetAllResultat(page, 5);\n  }\n  handleSearchPrelevement() {\n    console.log(this.searchFormGroup.value);\n  }\n}\nPrelevementResultatComponent.ɵfac = function PrelevementResultatComponent_Factory(t) {\n  return new (t || PrelevementResultatComponent)(i0.ɵɵdirectiveInject(i1.ResultatPrelevementService), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.AuthenticationService), i0.ɵɵdirectiveInject(i4.Router));\n};\nPrelevementResultatComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PrelevementResultatComponent,\n  selectors: [[\"app-prelevement-resultat\"]],\n  decls: 31,\n  vars: 2,\n  consts: [[1, \"my_container\"], [1, \"top\"], [1, \"top_left\"], [1, \"search_bar\", 3, \"formGroup\", \"ngSubmit\"], [\"type\", \"text\", \"formControlName\", \"keyword\", 1, \"search_bar_input\"], [1, \"search_bar_btn\"], [1, \"bi\", \"bi-search\"], [1, \"table\"], [1, \"table_head\"], [1, \"table_item\"], [4, \"ngIf\"], [\"class\", \"table_body\", 4, \"ngFor\", \"ngForOf\"], [1, \"pages\"], [\"class\", \"page\", 4, \"ngFor\", \"ngForOf\"], [1, \"table_body\"], [1, \"btn\", \"btn_delete\"], [1, \"bi\", \"bi-trash-fill\", \"icon\"], [1, \"btn\", \"btn_update\"], [1, \"bi\", \"bi-pencil-fill\", \"icon\"], [1, \"page\"], [3, \"ngClass\", \"click\"]],\n  template: function PrelevementResultatComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function PrelevementResultatComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.handleSearchPrelevement();\n      });\n      i0.ɵɵelement(4, \"input\", 4);\n      i0.ɵɵelementStart(5, \"button\", 5)(6, \"i\", 6);\n      i0.ɵɵtext(7, \" Chercher\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(8, \"div\", 7)(9, \"div\", 8)(10, \"div\", 9);\n      i0.ɵɵtext(11, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 9);\n      i0.ɵɵtext(13, \"R\\u00E9f pr\\u00E9l\\u00E9vement\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 9);\n      i0.ɵɵtext(15, \"Produit\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 9);\n      i0.ɵɵtext(17, \"Num\\u00E9ro BA\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 9);\n      i0.ɵɵtext(19, \"Date BA\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\", 9);\n      i0.ɵɵtext(21, \"Conformit\\u00E9\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 9);\n      i0.ɵɵtext(23, \"Num\\u00E9ro TA\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"div\", 9);\n      i0.ɵɵtext(25, \"Date TA\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\", 9);\n      i0.ɵɵtext(27, \"D\\u00E9tail\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(28, \"div\", 9)(29, \"div\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(30, PrelevementResultatComponent_ng_container_30_Template, 4, 3, \"ng-container\", 10);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.searchFormGroup);\n      i0.ɵɵadvance(27);\n      i0.ɵɵproperty(\"ngIf\", ctx.resultats);\n    }\n  },\n  dependencies: [i5.NgClass, i5.NgForOf, i5.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i5.DatePipe],\n  styles: [\".my_container[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n}\\r\\n\\r\\n.top[_ngcontent-%COMP%] {\\r\\n  margin-top: 30px;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: space-evenly;\\r\\n}\\r\\n\\r\\n.top_left[_ngcontent-%COMP%] {\\r\\n  width: 40%;\\r\\n}\\r\\n\\r\\n.search_bar[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\n.search_bar_input[_ngcontent-%COMP%] {\\r\\n  width: 70%;\\r\\n  border: solid  #3A46B5 1px;\\r\\n  height: 35px;\\r\\n  border-right: none;\\r\\n}\\r\\n\\r\\n.search_bar_btn[_ngcontent-%COMP%] {\\r\\n  width: 30%;\\r\\n  padding: 5px 10px;\\r\\n  text-align: center;\\r\\n  background-color: transparent;\\r\\n  color:  #3A46B5;\\r\\n  border: solid  #3A46B5 1px;\\r\\n  font-size: 20px;\\r\\n  height: 35px;\\r\\n}\\r\\n\\r\\n.search_bar_btn[_ngcontent-%COMP%]:hover {\\r\\n  cursor: pointer;\\r\\n  opacity: 0.9;\\r\\n}\\r\\n\\r\\n.top_right[_ngcontent-%COMP%] {\\r\\n  width: 50%;\\r\\n  display: flex;\\r\\n  justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.btn_add[_ngcontent-%COMP%] {\\r\\n  background-color: #3A46B5;\\r\\n  color: white;\\r\\n  border: none;\\r\\n  border-radius: 20px;\\r\\n  font-size: 20px;\\r\\n  text-align: center;\\r\\n  padding: 5px 10px;\\r\\n  width: 23%;\\r\\n  height: 35px;\\r\\n}\\r\\n\\r\\n.btn_add[_ngcontent-%COMP%]:hover {\\r\\n  cursor: pointer;\\r\\n  opacity: 0.9;\\r\\n}\\r\\n\\r\\n\\r\\n.table[_ngcontent-%COMP%] {\\r\\n  margin-top: 30px;\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n}\\r\\n\\r\\n.table_head[_ngcontent-%COMP%] {\\r\\n  background-color: #C7E1F6;\\r\\n}\\r\\n\\r\\n.table_head[_ngcontent-%COMP%], .table_body[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  height: 60px;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n\\r\\n}\\r\\n\\r\\n.table_item[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n  text-align: center;\\r\\n  width: 14.28%;\\r\\n  height: 100%;\\r\\n  border-right: solid #CCCCCC 1px;\\r\\n  border-bottom: solid #CCCCCC 1px;\\r\\n}\\r\\n\\r\\n.btn[_ngcontent-%COMP%] {\\r\\n  border: none;\\r\\n  background-color: transparent;\\r\\n}\\r\\n\\r\\n.btn[_ngcontent-%COMP%]:hover {\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%] {\\r\\n  text-align: center;\\r\\n  font-size: 25px;\\r\\n}\\r\\n\\r\\n.btn_delete[_ngcontent-%COMP%] {\\r\\n  color: red;\\r\\n}\\r\\n\\r\\n.btn_update[_ngcontent-%COMP%] {\\r\\n  color: green;\\r\\n}\\r\\n\\r\\n.pages[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n}\\r\\n\\r\\n.pages[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\r\\n  list-style: none;\\r\\n  margin-right: 10px;\\r\\n  margin-top: 30px;\\r\\n}\\r\\n\\r\\n.btn_page[_ngcontent-%COMP%] {\\r\\n  border: solid #2168A0 1px;\\r\\n  border-radius: 5px;\\r\\n  background-color: white;\\r\\n  color: #2168A0;\\r\\n  font-weight: 600;\\r\\n  font-size: 20px;\\r\\n  width: 40px;\\r\\n  height: 40px;\\r\\n}\\r\\n\\r\\n.btn_current_page[_ngcontent-%COMP%] {\\r\\n  border: none;\\r\\n  border-radius: 5px;\\r\\n  background-color: #2168A0;\\r\\n  color: white;\\r\\n  font-weight: 600;\\r\\n  font-size: 20px;\\r\\n  width: 40px;\\r\\n  height: 40px;\\r\\n}\\r\\n\\r\\n.pages[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\r\\n  cursor: pointer;\\r\\n  opacity: 0.9;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9wcmVsZXZlbWVudC1yZXN1bHRhdC9wcmVsZXZlbWVudC1yZXN1bHRhdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLDZCQUE2QjtBQUMvQjs7QUFFQTtFQUNFLFVBQVU7QUFDWjs7QUFFQTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxVQUFVO0VBQ1YsMEJBQTBCO0VBQzFCLFlBQVk7RUFDWixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxVQUFVO0VBQ1YsaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQiw2QkFBNkI7RUFDN0IsZUFBZTtFQUNmLDBCQUEwQjtFQUMxQixlQUFlO0VBQ2YsWUFBWTtBQUNkOztBQUVBO0VBQ0UsZUFBZTtFQUNmLFlBQVk7QUFDZDs7QUFFQTtFQUNFLFVBQVU7RUFDVixhQUFhO0VBQ2IseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLFlBQVk7RUFDWixZQUFZO0VBQ1osbUJBQW1CO0VBQ25CLGVBQWU7RUFDZixrQkFBa0I7RUFDbEIsaUJBQWlCO0VBQ2pCLFVBQVU7RUFDVixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsWUFBWTtBQUNkOzs7QUFHQTtFQUNFLGdCQUFnQjtFQUNoQixhQUFhO0VBQ2Isc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixhQUFhO0VBQ2IsbUJBQW1COztBQUVyQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsdUJBQXVCO0VBQ3ZCLGtCQUFrQjtFQUNsQixhQUFhO0VBQ2IsWUFBWTtFQUNaLCtCQUErQjtFQUMvQixnQ0FBZ0M7QUFDbEM7O0FBRUE7RUFDRSxZQUFZO0VBQ1osNkJBQTZCO0FBQy9COztBQUVBO0VBQ0UsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsVUFBVTtBQUNaOztBQUVBO0VBQ0UsWUFBWTtBQUNkOztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQix1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixrQkFBa0I7RUFDbEIsdUJBQXVCO0VBQ3ZCLGNBQWM7RUFDZCxnQkFBZ0I7RUFDaEIsZUFBZTtFQUNmLFdBQVc7RUFDWCxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osZ0JBQWdCO0VBQ2hCLGVBQWU7RUFDZixXQUFXO0VBQ1gsWUFBWTtBQUNkOztBQUVBO0VBQ0UsZUFBZTtFQUNmLFlBQVk7QUFDZCIsInNvdXJjZXNDb250ZW50IjpbIi5teV9jb250YWluZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxufVxyXG5cclxuLnRvcCB7XHJcbiAgbWFyZ2luLXRvcDogMzBweDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7XHJcbn1cclxuXHJcbi50b3BfbGVmdCB7XHJcbiAgd2lkdGg6IDQwJTtcclxufVxyXG5cclxuLnNlYXJjaF9iYXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLnNlYXJjaF9iYXJfaW5wdXQge1xyXG4gIHdpZHRoOiA3MCU7XHJcbiAgYm9yZGVyOiBzb2xpZCAgIzNBNDZCNSAxcHg7XHJcbiAgaGVpZ2h0OiAzNXB4O1xyXG4gIGJvcmRlci1yaWdodDogbm9uZTtcclxufVxyXG5cclxuLnNlYXJjaF9iYXJfYnRuIHtcclxuICB3aWR0aDogMzAlO1xyXG4gIHBhZGRpbmc6IDVweCAxMHB4O1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICBjb2xvcjogICMzQTQ2QjU7XHJcbiAgYm9yZGVyOiBzb2xpZCAgIzNBNDZCNSAxcHg7XHJcbiAgZm9udC1zaXplOiAyMHB4O1xyXG4gIGhlaWdodDogMzVweDtcclxufVxyXG5cclxuLnNlYXJjaF9iYXJfYnRuOmhvdmVyIHtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgb3BhY2l0eTogMC45O1xyXG59XHJcblxyXG4udG9wX3JpZ2h0IHtcclxuICB3aWR0aDogNTAlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxufVxyXG5cclxuLmJ0bl9hZGQge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMzQTQ2QjU7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBib3JkZXItcmFkaXVzOiAyMHB4O1xyXG4gIGZvbnQtc2l6ZTogMjBweDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgcGFkZGluZzogNXB4IDEwcHg7XHJcbiAgd2lkdGg6IDIzJTtcclxuICBoZWlnaHQ6IDM1cHg7XHJcbn1cclxuXHJcbi5idG5fYWRkOmhvdmVyIHtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgb3BhY2l0eTogMC45O1xyXG59XHJcblxyXG5cclxuLnRhYmxlIHtcclxuICBtYXJnaW4tdG9wOiAzMHB4O1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxufVxyXG5cclxuLnRhYmxlX2hlYWQge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNDN0UxRjY7XHJcbn1cclxuXHJcbi50YWJsZV9oZWFkLCAudGFibGVfYm9keSB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiA2MHB4O1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHJcbn1cclxuXHJcbi50YWJsZV9pdGVtIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIHdpZHRoOiAxNC4yOCU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIGJvcmRlci1yaWdodDogc29saWQgI0NDQ0NDQyAxcHg7XHJcbiAgYm9yZGVyLWJvdHRvbTogc29saWQgI0NDQ0NDQyAxcHg7XHJcbn1cclxuXHJcbi5idG4ge1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxufVxyXG5cclxuLmJ0bjpob3ZlciB7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4uYnRuIC5pY29uIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgZm9udC1zaXplOiAyNXB4O1xyXG59XHJcblxyXG4uYnRuX2RlbGV0ZSB7XHJcbiAgY29sb3I6IHJlZDtcclxufVxyXG5cclxuLmJ0bl91cGRhdGUge1xyXG4gIGNvbG9yOiBncmVlbjtcclxufVxyXG5cclxuLnBhZ2VzIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi5wYWdlcyBsaSB7XHJcbiAgbGlzdC1zdHlsZTogbm9uZTtcclxuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XHJcbiAgbWFyZ2luLXRvcDogMzBweDtcclxufVxyXG5cclxuLmJ0bl9wYWdlIHtcclxuICBib3JkZXI6IHNvbGlkICMyMTY4QTAgMXB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICBjb2xvcjogIzIxNjhBMDtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG4gIGZvbnQtc2l6ZTogMjBweDtcclxuICB3aWR0aDogNDBweDtcclxuICBoZWlnaHQ6IDQwcHg7XHJcbn1cclxuXHJcbi5idG5fY3VycmVudF9wYWdlIHtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMyMTY4QTA7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgZm9udC1zaXplOiAyMHB4O1xyXG4gIHdpZHRoOiA0MHB4O1xyXG4gIGhlaWdodDogNDBweDtcclxufVxyXG5cclxuLnBhZ2VzIGJ1dHRvbjpob3ZlciB7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIG9wYWNpdHk6IDAuOTtcclxufVxyXG5cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IA0BMA,+BAAgG;IACtEA,YAAe;IAAAA,iBAAM;IAC7CA,8BAAwB;IAAAA,YAA0B;IAAAA,iBAAM;IACxDA,8BAAwB;IAAAA,YAAuB;IAAAA,iBAAM;IACrDA,8BAAwB;IAAAA,YAAqB;IAAAA,iBAAM;IACnDA,8BAAwB;IAAAA,aAAyC;;IAAAA,iBAAM;IACvEA,+BAAwB;IAAAA,aAAkC;IAAAA,iBAAM;IAChEA,+BAAwB;IAAAA,aAA4C;IAAAA,iBAAM;IAC1EA,+BAAwB;IAAAA,aAA0C;IAAAA,iBAAM;IACxEA,+BAAwB;IAAAA,aAA0C;IAAAA,iBAAM;IACxEA,+BAAwB;IAEpBA,yBAAqC;IACvCA,iBAAS;IAEXA,+BAAwB;IAEpBA,yBAAsC;IACxCA,iBAAS;;;;IAjBaA,eAAe;IAAfA,oCAAe;IACfA,eAA0B;IAA1BA,+CAA0B;IAC1BA,eAAuB;IAAvBA,4CAAuB;IACvBA,eAAqB;IAArBA,0CAAqB;IACrBA,eAAyC;IAAzCA,6EAAyC;IACzCA,eAAkC;IAAlCA,0DAAkC;IAClCA,eAA4C;IAA5CA,uEAA4C;IAC5CA,eAA0C;IAA1CA,qEAA0C;IAC1CA,eAA0C;IAA1CA,qEAA0C;;;;;;IAclEA,8BAA2F;IAG/EA;MAAA;MAAA;MAAA;MAAA,OAASA,uCAAc;IAAA,EAAC;IAC9BA,YACF;IAAAA,iBAAS;;;;;IAHDA,eAAuE;IAAvEA,mGAAuE;IAE7EA,eACF;IADEA,wCACF;;;;;;;;IA7BRA,6BAAgC;IAC9BA,gGAoBM;IAENA,8BAAkB;IAChBA,4FAOK;IACPA,iBAAK;IAEPA,0BAAe;;;;IAjCgCA,eAAsC;IAAtCA,kEAAsC;IAuB/CA,eAAyC;IAAzCA,6FAAyC;;;ACrCnF,OAAM,MAAOC,4BAA4B;EAKvCC,YAAoBC,eAA2C,EAC3CC,EAAc,EACfC,WAAiC,EAChCC,KAAY;IAHZ,oBAAe,GAAfH,eAAe;IACf,OAAE,GAAFC,EAAE;IACH,gBAAW,GAAXC,WAAW;IACV,UAAK,GAALC,KAAK;EACzB;EAEAC,QAAQ;IACN,IAAI,CAACC,eAAe,GAAG,IAAI,CAACJ,EAAE,CAACK,KAAK,CAAC;MACnCC,OAAO,EAAE,IAAI,CAACN,EAAE,CAACO,OAAO,CAAC,EAAE;KAC5B,CAAC;IAEF,IAAI,CAACC,oBAAoB,CAAC,CAAC,EAAC,CAAC,CAAC;EAChC;EAEAA,oBAAoB,CAACC,IAAY,EAAEC,IAAY;IAC7C,IAAI,CAACX,eAAe,CAACY,cAAc,CAACF,IAAI,EAAEC,IAAI,CAAC,CAACE,SAAS,CAAC;MACxDC,IAAI,EAAEC,IAAI,IAAG;QACX,IAAI,CAACC,SAAS,GAACD,IAAI;QACnB,IAAI,CAACC,SAAS,CAACC,uBAAuB,CAACC,OAAO,CAACC,QAAQ,IAAG;UACxD,IAAG,CAACA,QAAQ,CAACC,QAAQ,EAAE;YACrB,IAAI,CAACC,eAAe,CAACF,QAAQ,CAAC;;QAElC,CAAC,CAAC;MACJ,CAAC;MACDG,KAAK,EAAEC,GAAG,IAAG;QACXC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAClB;KACD,CAAC;EACJ;EAEAF,eAAe,CAACF,QAAiC;IAC/C,IAAI,CAACnB,eAAe,CAAC0B,sBAAsB,CAACP,QAAQ,CAACQ,EAAE,CAAC,CAACd,SAAS,CAAC;MACjEC,IAAI,EAAEC,IAAI,IAAG;QACXI,QAAQ,CAACS,MAAM,GAACb,IAAI,CAACa,MAAM;QAC3BT,QAAQ,CAACU,QAAQ,GAACd,IAAI,CAACc,QAAQ;QAC/BV,QAAQ,CAACW,MAAM,GAACf,IAAI,CAACe,MAAM;MAC7B,CAAC;MACDR,KAAK,EAAEC,GAAG,IAAG;QACXC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAClB;KACD,CAAC;EACJ;EAGAQ,QAAQ,CAACrB,IAAY;IACnB,IAAI,CAACD,oBAAoB,CAACC,IAAI,EAAE,CAAC,CAAC;EACpC;EAEAsB,uBAAuB;IACrBR,OAAO,CAACC,GAAG,CAAC,IAAI,CAACpB,eAAe,CAAC4B,KAAK,CAAC;EACzC;;AAvDWnC,4BAA4B;mBAA5BA,4BAA4B;AAAA;AAA5BA,4BAA4B;QAA5BA,4BAA4B;EAAAoC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDZzCzC,8BAA0B;MAGmCA;QAAA,OAAY0C,6BAAyB;MAAA,EAAC;MAC3F1C,2BAAsE;MACtEA,iCAA+B;MAAyBA,yBAAQ;MAAAA,iBAAI;MAM1EA,8BAAmB;MAESA,mBAAE;MAAAA,iBAAM;MAChCA,+BAAwB;MAAAA,+CAAe;MAAAA,iBAAM;MAC7CA,+BAAwB;MAAAA,wBAAO;MAAAA,iBAAM;MACrCA,+BAAwB;MAAAA,+BAAS;MAAAA,iBAAM;MACvCA,+BAAwB;MAAAA,wBAAO;MAAAA,iBAAM;MACrCA,+BAAwB;MAAAA,gCAAU;MAAAA,iBAAM;MACxCA,+BAAwB;MAAAA,+BAAS;MAAAA,iBAAM;MACvCA,+BAAwB;MAAAA,wBAAO;MAAAA,iBAAM;MACrCA,+BAAwB;MAAAA,4BAAM;MAAAA,iBAAM;MACpCA,0BAA8B;MAEhCA,iBAAM;MACNA,kGAkCe;MACjBA,iBAAM;;;MAzDuBA,eAA6B;MAA7BA,+CAA6B;MAsBzCA,gBAAe;MAAfA,oCAAe","names":["i0","PrelevementResultatComponent","constructor","resultatService","fb","authservice","Route","ngOnInit","searchFormGroup","group","keyword","control","handleGetAllResultat","page","size","getAllResultat","subscribe","next","data","resultats","resultatPrelevementDTOS","forEach","resultat","conforme","handleGetDetail","error","err","console","log","getDetailNonConformite","id","dateTA","numeroTA","detail","goToPage","handleSearchPrelevement","value","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\hp\\OneDrive\\Desktop\\Nouveau dossier (5)\\mini-projet-front\\mini-projet-front\\src\\app\\components\\prelevement-resultat\\prelevement-resultat.component.html","C:\\Users\\hp\\OneDrive\\Desktop\\Nouveau dossier (5)\\mini-projet-front\\mini-projet-front\\src\\app\\components\\prelevement-resultat\\prelevement-resultat.component.ts"],"sourcesContent":["<div class=\"my_container\">\r\n  <div class=\"top\">\r\n    <div class=\"top_left\">\r\n      <form class=\"search_bar\" [formGroup]=\"searchFormGroup\" (ngSubmit)=\"handleSearchPrelevement()\">\r\n        <input class=\"search_bar_input\" type=\"text\" formControlName=\"keyword\">\r\n        <button class=\"search_bar_btn\"><i class=\"bi bi-search\"> Chercher</i></button>\r\n      </form>\r\n    </div>\r\n   \r\n  </div>\r\n\r\n  <div class=\"table\">\r\n    <div class=\"table_head\">\r\n      <div class=\"table_item\">ID</div>\r\n      <div class=\"table_item\">Réf prélévement</div>\r\n      <div class=\"table_item\">Produit</div>\r\n      <div class=\"table_item\">Numéro BA</div>\r\n      <div class=\"table_item\">Date BA</div>\r\n      <div class=\"table_item\">Conformité</div>\r\n      <div class=\"table_item\">Numéro TA</div>\r\n      <div class=\"table_item\">Date TA</div>\r\n      <div class=\"table_item\">Détail</div>\r\n      <div class=\"table_item\"></div>\r\n      <div class=\"table_item\"></div>\r\n    </div>\r\n    <ng-container *ngIf=\"resultats\">\r\n      <div class=\"table_body\" *ngFor=\"let resultat of resultats.resultatPrelevementDTOS; let i=index\">\r\n        <div class=\"table_item\">{{resultat.id}}</div>\r\n        <div class=\"table_item\">{{resultat.idPrelevement}}</div>\r\n        <div class=\"table_item\">{{resultat.nomProduit}}</div>\r\n        <div class=\"table_item\">{{resultat.numeroBA}}</div>\r\n        <div class=\"table_item\">{{resultat.dateBA | date : 'dd-MM-YYYY'}}</div>\r\n        <div class=\"table_item\">{{resultat.conforme? 'Oui':'Non'}}</div>\r\n        <div class=\"table_item\">{{resultat.conforme? '-':resultat.numeroTA}}</div>\r\n        <div class=\"table_item\">{{resultat.conforme? '-':resultat.dateTA}}</div>\r\n        <div class=\"table_item\">{{resultat.conforme? '-':resultat.detail}}</div>\r\n        <div class=\"table_item\">\r\n          <button class=\"btn btn_delete\">\r\n            <i class=\"bi bi-trash-fill icon\"></i>\r\n          </button>\r\n        </div>\r\n        <div class=\"table_item\">\r\n          <button class=\"btn btn_update\">\r\n            <i class=\"bi bi-pencil-fill icon\"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <ul class=\"pages\">\r\n        <li class=\"page\" *ngFor=\"let item of [].constructor(resultats.totalPages); let page=index\">\r\n          <a>\r\n            <button [ngClass]=\"page==resultats.currentPage? 'btn_current_page': 'btn_page'\"\r\n                    (click)=\"goToPage(page)\" >\r\n              {{page}}\r\n            </button>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n\r\n    </ng-container>\r\n  </div>\r\n</div>\r\n\r\n","import {Component, OnInit} from '@angular/core';\r\nimport {ResultatPrelevementService} from \"../../services/resultat-prelevement.service\";\r\nimport {ResultatPrelevementDtos, ResultatResponse} from \"../../models/resultatPrelevement.model\";\r\nimport {FormBuilder, FormGroup} from \"@angular/forms\";\r\nimport { AuthenticationService } from 'src/app/services/authentication.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-prelevement-resultat',\r\n  templateUrl: './prelevement-resultat.component.html',\r\n  styleUrls: ['./prelevement-resultat.component.css']\r\n})\r\nexport class PrelevementResultatComponent implements OnInit{\r\n  resultats!: ResultatResponse;\r\n  searchFormGroup!: FormGroup;\r\n\r\n\r\n  constructor(private resultatService: ResultatPrelevementService,\r\n              private fb:FormBuilder,\r\n              public authservice:AuthenticationService,\r\n              private Route:Router) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.searchFormGroup = this.fb.group({\r\n      keyword: this.fb.control(\"\")\r\n    });\r\n\r\n    this.handleGetAllResultat(0,5);\r\n  }\r\n\r\n  handleGetAllResultat(page: number, size: number) {\r\n    this.resultatService.getAllResultat(page, size).subscribe({\r\n      next: data => {\r\n        this.resultats=data;\r\n        this.resultats.resultatPrelevementDTOS.forEach(resultat => {\r\n          if(!resultat.conforme) {\r\n            this.handleGetDetail(resultat);\r\n          }\r\n        })\r\n      },\r\n      error: err => {\r\n        console.log(err);\r\n      }\r\n    })\r\n  }\r\n\r\n  handleGetDetail(resultat: ResultatPrelevementDtos) {\r\n    this.resultatService.getDetailNonConformite(resultat.id).subscribe({\r\n      next: data => {\r\n        resultat.dateTA=data.dateTA;\r\n        resultat.numeroTA=data.numeroTA;\r\n        resultat.detail=data.detail;\r\n      },\r\n      error: err => {\r\n        console.log(err);\r\n      }\r\n    })\r\n  }\r\n  \r\n\r\n  goToPage(page: number) {\r\n    this.handleGetAllResultat(page, 5);\r\n  }\r\n\r\n  handleSearchPrelevement() {\r\n    console.log(this.searchFormGroup.value);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}